$(function(){
  $.ajax({
    url:"header.html",
    type:"get",
    success:function(result){
      $(result).replaceAll("#header");
      $(`<link rel="stylesheet" href="./css/header.css">`).appendTo("head");
      
      $("#mune_btn1").hover(
        function(){
          $(".line1").css("display","block").hover(function(){
            $(this).css("display","block");
            $("#mune_btn1").css("font-weight","bold");
            $("#pc1").css({"height":"auto","padding-top":"30px","padding-bottom":"35px"}
            );
          });
          $(this).css({"font-weight":"bold","text-decoration":"none"});
          $("#pc1").css({"height":"auto","padding-top":"30px","padding-bottom":"35px"})
            .hover(function(){
              $(this).css({"height":"auto","padding-top":"30px","padding-bottom":"35px"});
              $(".line1").css("display","block");
              $("#mune_btn1").css("font-weight","bold");
            } ,
            function(){
              $(this).css({"height":"0","padding-top":"0","padding-bottom":"0"});
              $(".line1").css("display","none");
              $("#mune_btn1").css("font-weight","normal");
            }
          )
        },
        function(){
          $(".line1").css("display","none");
          $(this).css({"font-weight":"normal","text-decoration":"none"});
          $("#pc1").css({"height":"0","padding-top":"0","padding-bottom":"0"});
        }
      );
      //二级导航栏动态效果
      $(".two_menu_title>a").hover(
        function(){
          $(this).next().css("display","block").hover(
            function(){
              $(this).css("display","block");
            },
            function(){
              $(this).css("display","none");
            }
          )
        },
        function(){
          $(this).next().css("display","none");
        }
      );
      //创新科技下拉导航条
      $("#mune_btn2").hover(
        function(){
          $(".line2").css("display","block").mouseenter(function(){
            $(this).css("display","block");
            $("#mune_btn2").css("font-weight","bold");
            $("#pc2").css({"height20":"auto","padding-top":"30px","padding-bottom":"35px"});
          });
          $(this).css({"font-weight":"bold","text-decoration":"none"});
          $("#pc2").css({"height":"auto","padding-top":"30px","padding-bottom":"35px"})
            .hover(function(){
              $(this).css({"height":"auto","padding-top":"30px","padding-bottom":"35px"});
              $(".line2").css("display","block");
              $("#mune_btn2").css("font-weight","bold");
            } ,
            function(){
              $(this).css({"height":"0","padding-top":"0","padding-bottom":"0"});
              $(".line2").css("display","none");
              $("#mune_btn2").css("font-weight","normal");
            }
          )
        },
        function(){
          $(".line2").css("display","none");
          $(this).css({"font-weight":"normal","text-decoration":"none"});
          $("#pc2").css({"height":"0","padding-top":"0","padding-bottom":"0"});
        }
      );
      
      /*----------PAD端导航条*--------------/
      /*一级导航栏*/
      //1.导航栏按钮点击触发打开
      $(".i1").click(function(){
        //按钮样式改变
        $(this).css({"opacity":"0","transform":"rotateZ(180deg)","z-index":"4"});
        $(".i2").css({"opacity":"1","transform":"rotateZ(180deg)","z-index":"5"})
        //一级导航栏开启
        $(".menu_pad_list1").css({"height":"354px","padding-bottom":"10px"})
      })
      //2.导航栏按钮点击触发关闭
      $(".i2").click(function(){
        //按钮样式改变
        $(this).css({"opacity":"0","transform":"rotateZ(0deg)","z-index":"4"});
        $(".i1").css({"opacity":"1","transform":"rotateZ(0deg)","z-index":"5"});
        //所有导航栏关闭
        $(".menu_pad").find("ul").css({"height":"0px","padding-bottom":"0px"});
        //所以箭头的方向初始化
        $(".menu_pad").find(".jt").css("transform","rotateZ(0deg)");
        //所有选项栏颜色初始化
        $(".menu_pad").find("div").css("background","rgba(0,0,0,0)");
        //所有选项栏字体颜色初始化
        $(".menu_pad").find("div>a").css("color","rgb(124,124,124)");
      })
      
      /*二级导航栏*/
      $(".menu_pad").on("click",".clickobj1",(function(){
        //获得二级导航栏的个数
        $n=$(this).next().children().length;
        //当前选中二级导航栏的高度变化
        $(this).next().css("height",`${$n*45}px`)
          .parent().siblings().children(":last-child").css("height","0");
        $(".menu_pad_list3").css("height","0")
        $(".menu_pad_list4").css("height","0")
        //一级级导航栏的高度变化
        $(".menu_pad_list1").css("height",`${344+$n*45}px`);
        //箭头的方向的变化
        $(this).children(":last-child").css("transform","rotateZ(180deg)");
        $(this).parent().siblings().find(".jt").css("transform","rotateZ(0deg)");
        //除当前选项栏以外所有选项栏颜色初始化
        $(this).parent().siblings().find("div").css("background","rgba(0,0,0,0)")
          .children(":first-child").css("color","rgb(124,124,124)");
        //二次点击当前选择导航栏时
        $h=$(this).next().css("height").substr(0,2);
        if($h>0){
          //选中当前导航栏高度初始化
          $(this).next().css("height","0")
            //所有下级导航栏高度初始化
            .find("ul").css("height","0");
          //一级导航栏的高度初始化
          $(".menu_pad_list1").css("height",`344px`);
          //所有导航栏箭头初始化
          $(".jt").css("transform","rotateZ(0deg)");
          //所有导航栏颜色初始化
          $(this).next().find("div").css("background","rgba(0,0,0,0)");
          //所有导航栏字体颜色初始化
          $(this).next().find("div>a").css("color","rgb(124,124,124)");
        }
      }))
      
      $(".menu_pad").on("click",".black1",(function(){
        //当前选择中选项栏颜色变化
        $(this).css("background","rgba(50,50,50)")
          .children(":first-child").css("color","white");
        //二次点击当前选项选项栏颜色变化
        $h=$(this).next().css("height").substr(0,2);
        if($h>0){
          $(this).css("background","rgba(0,0,0,0)")
            .children(":first-child").css("color","rgb(124,124,124)");
        }
      }));
      
      /*三级导航栏*/
      $(".menu_pad").on("click",".clickobj2",(function(){
        //获取二级导行栏的个数
        $n1=$(this).parent().parent().children().length;
        //获取三级导行栏的个数
        $n2=$(this).next().children().length;
        //当前选中三级导航栏高度变化
        $(this).next().css("height",`${$n2*45}px`)
          .parent().siblings().find("ul").css("height","0");
        //二级导航栏的高度变化
        $(this).parent().parent().css("height",`${($n1+$n2)*45}px`)
          //一级导航栏高度的变化
          .parent().parent().css("height",`${344+($n1+$n2)*45}px`)
        //当前选中三级导航栏箭头变化
        $(this).children(":last-child").css("transform","rotateZ(180deg)");
        $(this).parent().siblings().find(".jt").css("transform","rotateZ(0deg)");
        //当前选中导航栏颜色变化
        $(this).css("background","rgb(102,102,102)")
          .parent().siblings().find("div").css("background","rgba(0,0,0,0)");
        //当前选中导航栏字体颜色变化
        $(this).children(":first-child").css("color","white")
        //除当前选择导航栏外字体颜色变化
        $(this).parent().siblings().find("div>a").css("color","rgb(124,124,124)");
        //二次点击当前选择导航栏时
        $h=$(this).next().css("height").substr(0,2);
        if($h>0){
          $(this).next().css("height","0")
            //二级导航栏初始化
            .parent().parent().css("height",`${$n1*45}px`)
              //一级导航栏始化
              .parent().parent().css("height",`${344+$n1*45}px`);
          //所有子级导航栏高度初始化
          $(this).next().find("ul").css("height","0");
          //当前选项栏及所有子级导航栏箭头初始化
          $(this).children(":last-child").css("transform","rotateZ(0deg)")
            .parent().parent().siblings().find(".jt").css("transform","rotateZ(0deg)");
          //当前导航栏及所有子级导航栏颜色初始化
          $(this).css("background","rgba(0,0,0,0)")
            .next().find("div").css("background","rgba(0,0,0,0)")
          //当前导航栏字体颜色初始化
          $(this).children(":first-child").css("color","rgb(124,124,124)");
          $(this).next().find("div>a").css("color","rgb(124,124,124)");
        }
      }));
      
      /*四级导航栏*/
      $(".menu_pad").on("click",".clickobj3",(function(){
        $n1=$(this).parent().parent().parent().parent().children().length;
        $n2=$(this).parent().parent().children().length;
        $n3=$(this).next().children().length;
        //高度
        $(this).next().css("height",`${$n3*45}px`)
          .parent().parent().css("height",`${($n2+$n3)*45}px`)
            .parent().parent().css("height",`${($n1+$n2+$n3)*45}px`)
              .parent().parent().css("height",`${344+($n1+$n2+$n3)*45}px`);
        $(this).parent().siblings().children(":last-child").css("height","0");
        //箭头
        $(this).children(":last-child").css("transform","rotateZ(180deg)");
        $(this).parent().siblings().children(":first-child").children(":last-child").css("transform","rotateZ(0deg)");
        //颜色
        $(this).css("background","rgba(229,229,229)")
          .parent().siblings().children(":first-child").css("background","rgba(0,0,0,0)")
      
      
        //二次点击
        //高度
        $h=$(this).next().css("height").substr(0,2);
        if($h>0){
          $(this).next().css("height","0")
            .parent().parent().css("height",`${$n2*45}px`)
              .parent().parent().css("height",`${($n1+$n2)*45}px`)
                .parent().parent().css("height",`${344+($n1+$n2)*45}px`);
        //箭头
        $(this).children(":last-child").css("transform","rotateZ(0deg)");
        //颜色
        $(this).css("background","rgba(0,0,0,0)");
        }   
      }));
    }
  })
})





